#include<stdio.h>
#include<string.h>
#define LL long long
#define pii pair<int,int>
const int MAX=35,INF=1000000010,MOD=7;
char s[2][100];
char look[2][MAX]={{'K','Q','R','B','N','P'},{'k','q','r','b','n','p'}};
int y[10]={2,6,10,14,18,22,26,30},
x[10]={1,3,5,7,9,11,13,15};
int n=8,m=8;
int main()
{
//	freopen("in.txt","r",stdin);
	char map[MAX][MAX]={
"+---+---+---+---+---+---+---+---+",
"|...|:::|...|:::|...|:::|...|:::|",
"+---+---+---+---+---+---+---+---+",
"|:::|...|:::|...|:::|...|:::|...|",
"+---+---+---+---+---+---+---+---+",
"|...|:::|...|:::|...|:::|...|:::|",
"+---+---+---+---+---+---+---+---+",
"|:::|...|:::|...|:::|...|:::|...|",
"+---+---+---+---+---+---+---+---+",
"|...|:::|...|:::|...|:::|...|:::|",
"+---+---+---+---+---+---+---+---+",
"|:::|...|:::|...|:::|...|:::|...|",
"+---+---+---+---+---+---+---+---+",
"|...|:::|...|:::|...|:::|...|:::|",
"+---+---+---+---+---+---+---+---+",
"|:::|...|:::|...|:::|...|:::|...|",
"+---+---+---+---+---+---+---+---+",};
	int i,j,k,len1,len2;
	while(gets(s[0])!=NULL)
	{
		gets(s[1]);
		len1=strlen(s[0]),len2=strlen(s[1]);
		for(i=7;i<len1;){
			if(s[0][i]<='Z'){
				map[ x[ 8-s[0][i+2]+'0' ] ][ y[ s[0][i+1]-'a' ] ]=s[0][i];
				i+=4;
			}
			else {
				map[ x[ 8-s[0][i+1]+'0' ] ][ y[ s[0][i]-'a' ] ]='P';
				i+=3;
			}
		}

		for(i=7;i<len2;){
			if(s[1][i]<='Z'){
				map[ x[ 8-s[1][i+2]+'0' ] ][ y[ s[1][i+1]-'a' ] ]=s[1][i]-'A'+'a';
				i+=4;
			}
			else {
				map[ x[ 8-s[1][i+1]+'0' ] ][ y[ s[1][i]-'a' ] ]='p';
				i+=3;
			}
		}

		for(i=0;i<=16;i++)
			printf("%s\n",map[i]);
	}
	return 0;
}